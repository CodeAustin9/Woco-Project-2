<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title> Friends's Survey</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- Custom styles for this template -->
    <link href="css/agency.min.css" rel="stylesheet">
    <link href="css/agency.css" rel="stylesheet">

</head>

<body id="page-top">

    <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav text-uppercase ml-auto">

            <!-- About nav -->
            <li class="nav-item">
                <div class="dropdown">
                    <a class="nav-item nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#">About</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="#about">About US</a>
                        <a class="dropdown-item" href="#offer">What We Offer</a>
                        <a class="dropdown-item" href="#founders">The Founders</a>
                        <a class="dropdown-item" href="#contact">Contact US</a>
                    </div>
                </div>
            </li>

            <!-- Friends' nav -->
            <li class="nav-item">
                <div class="dropdown">
                    <a class="nav-item nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#">Friends</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="">Home</a>
                        <a class="dropdown-item" href="#featured-friends">Featured Friends</a>
                        <a class="dropdown-item" href="friends-survey.html">Survey</a>
                    </div>
                </div>
            </li>

            <!-- Mentors' nav -->
            <li class="nav-item">
                <div class="dropdown">
                    <a class="nav-item nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#">Mentors</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="mentors-survey.html">Find a Mentor</a>
                        <a class="dropdown-item" href="networking.html">Networking</a>
                        <a class="dropdown-item" href="#featured">Featured Mentors</a>
                    </div>
                </div>
            </li>

            <!-- Dating nav -->
            <li class="nav-item">
                <div class="dropdown">
                    <a class="nav-item nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#">Dating</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="#search-date">Survey</a>
                        <a class="dropdown-item" href="rating.html">Rate Your Date</a>
                        <a class="dropdown-item" href="search.html">Search Results</a>
                    </div>
                </div>
            </li>

            <!-- Blog nav -->
            <li class="nav-item">
                <a class="nav-link js-scroll-trigger" href="blog.html">Blog</a>
            </li>

            <!-- Shop nav -->
            <li class="nav-item">
                <a class="nav-link js-scroll-trigger" href="shop.html">Shop</a>
            </li>

            <!-- Login nav -->
            <li class="nav-item">
                <a class="nav-link js-scroll-trigger" href="login.html">Login</a>
            </li>
        </ul>
    </div>

    </div>
    </nav>

    <!-- Header -->
    <header class="masthead">
        <div class="container">
            <div class="intro-text">
                <div class="intro-lead-in">"Find a Friend"</div>
                <div class="intro-heading text-uppercase">Placeholder</div>

                <!-- Button to take user to survey page -->
                <a class="btn btn-primary btn-xl text-uppercase js-scroll-trigger" href="#survey">Survey to Connect with a Friend</a>
            </div>
        </div>
    </header>

    <!-- Mentor Survey-->
    <section id="survey">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading text-uppercase">Take a brief survey to meet a Friend.</h2>
                    <h3 class="section-subheading text-muted">Placeholder</h3>
                </div>
            </div>

            <div class="col-lg-12 mx-auto">
                <h1 class="text-uppercase">
                    <strong>Friend's Survey Questions</strong>
                </h1>
                <hr>
                <h3 class="text-center">Tell me about yourself (ALL fields below are required)!</h3>
                <h4>Name:</h4>
                <input type="text" name="" id="name" class="form-control" required>
                <br>
                <br>
                <h4>Email Address:</h4>
                <input type="text" email="" id="email" class="form-control" required>
                <br>
                <br>
                <h4>Link to photo:</h4>
                <input type="text" name="" id="photo" class="form-control" required>
                <hr>
            </div>

            <h3>
                <strong>Question 1:</strong>
            </h3>
            <h4>Do you think meeting new friends will help you grow as a person?</h4>
            <select data-placeholder="" class="chosen-select" id="question1">
                <option value=""></option>
                <option value="1">1 Strongly Disagree</option>
                <option value="2">2 Disagree</option>
                <option value="3">3 No Opinion</option>
                <option value="4">4 Agree</option>
                <option value="5">5 Strongly Agree</option>
            </select>
            <hr>

            <h3>
                <strong>Question 2:</strong>
            </h3>
            <h4>Is happiness more important than money?</h4>
            <select data-placeholder="" class="chosen-select" id="question2">
                <option value=""></option>
                <option value="1">1 Strongly Disagree</option>
                <option value="2">2 Disagree</option>
                <option value="3">3 No Opinion</option>
                <option value="4">4 Agree</option>
                <option value="5">5 Strongly Agree</option>
            </select>
            <hr>

            <h3>
                <strong>Question 3:</strong>
            </h3>
            <h4>Do you value meeting new friends with shared interests and hobbies?</h4>
            <select data-placeholder="" class="chosen-select" id="question3">
                <option value=""></option>
                <option value="1">1 Strongly Disagree</option>
                <option value="2">2 Disagree</option>
                <option value="3">3 No Opinion</option>
                <option value="4">4 Agree</option>
                <option value="5">5 Strongly Agree</option>
            </select>
            <hr>

            <h3>
                <strong>Question 4</strong>
            </h3>
            <h4>Does meeting new friends inspire you to be a better person?</h4>
            <select data-placeholder="" class="chosen-select" id="question4">
                <option value=""></option>
                <option value="1">1 Strongly Disagree</option>
                <option value="2">2 Disagree</option>
                <option value="3">3 No Opinion</option>
                <option value="4">4 Agree</option>
                <option value="5">5 Strongly Agree</option>
            </select>
            <hr>

            <h3>
                <strong>Question 5</strong>
            </h3>
            <h4>Do you support other women's views even if you don't agree?</h4>
            <select data-placeholder="" class="chosen-select" id="question5">
                <option value=""></option>
                <option value="1">1 Strongly Disagree</option>
                <option value="2">2 Disagree</option>
                <option value="3">3 No Opinion</option>
                <option value="4">4 Agree</option>
                <option value="5">5 Strongly Agree</option>
            </select>
            <hr>

            <br>
            <br>

    </section>
    </div>

    <!-- Button to take user to their matched friend -->
    <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">
        <i class="fa fa-check-circle" aria-hidden="true">
        </i>Find my friend</button>
    <hr>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Found your new friend!</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p id="friendName"></p>
                    <p id="friendEmail"></p>
                    <img id="friendImage" src="">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Javascript start -->

    <script type="text/javascript">

        $(document).ready(function () {
            $("#submit").on("click", function () {
                // Check if form is valid
                function validateForm() {
                    var formValid = true;
                    $('.validate').each(function () {
                        if ($(this).val() === '') {
                            formValid = false;
                        }
                    });
                    $('.browser-default').each(function () {
                        if ($(this).val() === "") {
                            formValid = false;
                        }
                    });
                    return formValid;
                }

                // Check if form is done
                if (validateForm() == true) {
                    // Add new mentor
                    // console.log("test" + typeof $('#question2').val())
                    var scores = parseInt($('#question1').val()) +
                        parseInt($('#question2').val()) +
                        parseInt($('#question3').val()) +
                        parseInt($('#question4').val()) +
                        parseInt($('#question5').val()) +
                        parseInt($('#question6').val()) +
                        parseInt($('#question7').val()) +
                        parseInt($('#question8').val()) +
                        parseInt($('#question9').val()) +
                        parseInt($('#question10').val());
                    console.log(scores)

                    var newFriend = {
                        name: $('#name').val().trim(),
                        email: $('#email').val().trim(),
                        photo: $('#photo').val().trim(),
                        scores: scores
                    };

                    var currentURL = window.location.origin;

                    // data = response.json from apiRoutes.js
                    $.post("/api/mentors", newFriend, function (data) {
                        console.log(data)
                        $("#friendName").text(data.name);
                        $("#friendEmail").text(data.email);
                        $("#friendImage").attr("src", data.photo);
                    });

                } else {

                    alert("Sorry, can't find your match. ALL the questions needs to be filled out. Try again!")
                }

            });
        });

    </script>

</body>

</html>

<!-- Javascript ends -->

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <span class="copyright">Copyright &copy; WoCO 2018</span>
            </div>
            <div class="col-md-4">
                <ul class="list-inline social-buttons">
                    <li class="list-inline-item">
                        <a href="#">
                            <i class="fa fa-twitter"></i>
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a href="#">
                            <i class="fa fa-facebook"></i>
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a href="#">
                            <i class="fa fa-linkedin"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>

<!-- Popper.js, then Bootstrap JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
    crossorigin="anonymous"></script>

<!-- Bootstrap core JavaScript -->
<script src="vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<!-- Plugin JavaScript -->
<script src="vendor/jquery-easing/jquery.easing.min.js"></script>

<!-- Contact form JavaScript -->
<script src="js-about/jqBootstrapValidation.js"></script>
<script src="js-about/contact_me.js"></script>

<!-- Custom scripts for this template -->
<script src="js-about/agency.min.js"></script>